from aws_lambda_powertools import Logger

# Create a logger instance with service name (will auto-capture request IDs, etc.)
logger = Logger(service="OrderService")

@logger.inject_lambda_context(log_event=True)  # decorator to add context and log the event
def handler(event, context):
    order_id = event.get("orderId", "N/A")
    # Append a correlation or order ID to all logs in this invocation
    logger.append_keys(orderId=order_id)
    logger.info(f"Processing order {order_id}")
    try:
        # ... processing logic ...
        logger.info("Order processed successfully", extra={"status": "SUCCESS"})
    except Exception as e:
        # Log exception with stack trace
        logger.exception("Error processing order")
        raise
If event = {"orderId": "12345", ...}, the logs might look like (formatted as JSON):
{
  "level": "INFO",
  "message": "Processing order 12345",
  "service": "OrderService",
  "orderId": "12345",
  "cold_start": true,
  "function_name": "OrderServiceFunction",
  "aws_request_id": "ABC-123-XYZ",
  "timestamp": "2025-04-24T08:11:33.123Z"
}
